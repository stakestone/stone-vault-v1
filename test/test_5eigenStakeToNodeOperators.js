//truffle exec test/test_5eigenStakeToNodeOperators.js --network goerli

const EigenNativeRestakingStrategy = artifacts.require("EigenNativeRestakingStrategy");
const eigenNativeRestakingStrategyAddr = "0xcA31C24c4c4304bB48D761F8Adb099E1bDe21C48";
const deployer = "0xc772FAf13E8fC346e7b1678F5f2084F884c56F92";
const eigenPod = "0x4FA79bC58c927b95CEFfB53E679086A685ac187a";
const rawData = "0xc82655b7000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000030904f16827fc8c1592a6a1cd7b497d9873fd4bdfd579e4c805efbbb3a8776447213c6c9161d312eba94676572aadb25430000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200100000000000000000000004fa79bc58c927b95ceffb53e679086a685ac187a0000000000000000000000000000000000000000000000000000000000000060b12dbe9d9a0b3ffc5d2d66bb5b125da291cfd81d7e29b7fbaaa1ffa77f9c051d5005159b63ee2fd53033bd450983962e05b534047e438ed22d7a14d0115f2ee9dd58b8173f0ee6c21bbc139409f9dbb61544ccddc9ec8fa2875293c4d5bcad3800000000000000000000000000000000000000000000000000000000000000010f84823120eac059ca3920591ab005d248f904b0bc75f6a777aac91a9bae41ac";
module.exports = async function (callback) {
    //钱存没存进去，可以查infostone的接口看是否有pending的
    try {
        const agenStrategy = await EigenNativeRestakingStrategy.at(eigenNativeRestakingStrategyAddr);
        await agenStrategy.stakeToNodeOperators(
            1,
            eigenPod,
            rawData, {
            from: deployer
        });

        callback();
    } catch (error) {
        console.error(error);
        callback(error);
    }
};